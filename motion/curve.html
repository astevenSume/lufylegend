
<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8" />
	<title>运动</title>
		<script type="text/javascript" src="../../js/lufylegend-1.10.1.js"></script>
	</head>
	<body style="margin:0;padding:0;">
			<div id="legend">
			</div>
<script type="text/javascript">
	init(1000/60,"legend",800,400,main);
	var circle;
	function main(){
		circle = new LSprite();
		circle.graphics.drawArc(1,"#FF0000",[0,0,5,0,Math.PI*2],true,"#FF0000");
		addChild(circle);
		circle.p0 = {x:0,y:0};
		circle.p1 = {x:700,y:200};
		circle.p2 = {x:200,y:200};
		circle.p3 = {x:200,y:20};
		circle.t = 0;

		circle1=new LSprite();
		circle1.graphics.drawArc(1,"#FF0000",[0,0,5,0,Math.PI*2],true,"#FFff00");
		circle1.x=700;
		circle1.y=200;
		addChild(circle1);

		circle2=new LSprite();
		circle2.graphics.drawArc(1,"#FF0000",[0,0,5,0,Math.PI*2],true,"#FFff00");
		circle2.x=200;
		circle2.y=200;
		addChild(circle2);

		circle3=new LSprite();
		circle3.graphics.drawArc(1,"#FF0000",[0,0,5,0,Math.PI*2],true,"#FFff00");
		circle3.x=200;
		circle3.y=20;
		addChild(circle3);

		//两点间运动
		LTweenLite.to(circle,3,{t:0.8,onUpdate:function(event){
			var target = event.target;
			console.log(target.t);
			target.x = bezierCurve01(target.t, target.p0.x, target.p1.x, target.p2.x);
			target.y = bezierCurve01(target.t, target.p0.y, target.p1.y, target.p2.y);
		},ease:LEasing.Sine.easeInOut})


		// LTweenLite.to(circle,2,{t:1,onUpdate:function(event){
		// 	var target = event.target;
		// 	target.x = bezierCurve(target.t, target.p0.x, target.p1.x, target.p2.x, target.p3.x);
		// 	target.y = bezierCurve(target.t, target.p0.y, target.p1.y, target.p2.y, target.p3.y);
		// },ease:LEasing.Sine.easeInOut})
	}
	function bezierCurve01(t, p0, p1, p2){
		return 1 * p0 * Math.pow(1-t, 2) * Math.pow(t,0) + 2 * p1 * Math.pow(1-t, 1) * Math.pow(t,1) + 1 * p2 * Math.pow(1-t, 0) * Math.pow(t,2) ;
	}

	function bezierCurve(t, p0, p1, p2, p3){
		return p0 * Math.pow(1-t, 3) + 3 * p1 * t * Math.pow(1-t, 2) + 3 * p2 * Math.pow(t, 2) * (1-t) + p3 * Math.pow(t, 3);
	}
	
</script>
	</body>
</html>