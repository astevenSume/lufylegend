var ArcAllUse=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.init,this)}__extends(t,e);var r=(__define,t),i=r.prototype;return i.init=function(){this.addToContainer(this.getArc(!1)),this.addToContainer(this.getArc(!0)),this.addToContainer(this.getArch(!1)),this.addToContainer(this.getArch(!0)),this.addToContainer(this.getSector(!1,1)),this.addToContainer(this.getSector(!0,1)),this.addToContainer(this.getSector(!1,-1)),this.addToContainer(this.getSector(!0,-1)),this.addToContainer(this.getArcProgress(!1,1)),this.addToContainer(this.getArcProgress(!0,1)),this.addToContainer(this.getArcProgress(!1,-1)),this.addToContainer(this.getArcProgress(!0,-1)),this.addToContainer(this.getSectorProgress(!1,1)),this.addToContainer(this.getSectorProgress(!0,1)),this.addToContainer(this.getSectorProgress(!1,-1)),this.addToContainer(this.getSectorProgress(!0,-1)),this.addToContainer(this.drawBorderProgress("club_png",!1,1)),this.addToContainer(this.drawBorderProgress("club_png",!0,1)),this.addToContainer(this.drawBorderProgress("club_png",!0,-1)),this.addToContainer(this.drawBorderProgress("club_png",!1,-1)),this.addToContainer(this.drawBorderProgress("club2_png",!1,1)),this.addToContainer(this.drawBorderProgress("club2_png",!0,1)),this.addToContainer(this.drawBorderProgress("club2_png",!0,-1)),this.addToContainer(this.drawBorderProgress("club2_png",!1,-1)),this.addToContainer(this.drawBorderProgress("role_png",!1,1)),this.addToContainer(this.drawBorderProgress("role_png",!0,1)),this.addToContainer(this.drawBorderProgress("role_png",!0,-1)),this.addToContainer(this.drawBorderProgress("role_png",!1,-1)),this.addToContainer(this.drawBorderWithPic("bg_icon_png")),this.addToContainer(this.drawMaskWithPic("bg_icon_png")),this.addToContainer(this.drawBgWithPic("role_png"))},i.addToContainer=function(e){e.x=120*Math.floor(this.numChildren%4)+10,e.y=120*Math.floor(this.numChildren/4)+10,this.addChild(e)},i.getArc=function(e){var t=new egret.Shape;return t.graphics.lineStyle(2,16776960),t.graphics.drawArc(50,50,50,0,30*Math.PI/180,e),t.graphics.endFill(),t},i.getArch=function(e){var t=new egret.Shape;return t.graphics.beginFill(16711680),t.graphics.drawArc(50,50,50,0,Math.PI/180*60,e),t.graphics.endFill(),t},i.getSector=function(e,t){var r=new egret.Shape;return r.graphics.beginFill(16711680),r.graphics.moveTo(50,50),r.graphics.lineTo(100,50),r.graphics.drawArc(50,50,50,0,260*Math.PI/180*t,e),r.graphics.lineTo(50,50),r.graphics.endFill(),r},i.getArcProgress=function(e,t){function r(t){i.graphics.clear(),i.graphics.lineStyle(2,255,1),i.graphics.drawArc(50,50,50,0,t*Math.PI/180,e),i.graphics.endFill()}var i=new egret.Shape,n=0;return egret.startTick(function(e){return n+=1*t,r(n),n%=360,!0},this),i},i.getSectorProgress=function(e,t){function r(t){i.graphics.clear(),i.graphics.beginFill(16711680),i.graphics.moveTo(50,50),i.graphics.lineTo(100,50),i.graphics.drawArc(50,50,50,0,t*Math.PI/180,e),i.graphics.lineTo(50,50),i.graphics.endFill()}var i=new egret.Shape,n=0;return egret.startTick(function(e){return n+=1*t,r(n),n%=360,!0},this),i},i.drawMaskWithPic=function(e){var t=new egret.DisplayObjectContainer,r=100,i=100,n=new egret.Bitmap(RES.getRes(e));t.addChild(n),n.width=r,n.height=i;var s=this.drawBorderProgress("club2_png",!0,1);return t.addChild(s),s.alpha=1,t},i.drawBorderWithPic=function(e){var t=new egret.DisplayObjectContainer,r=96,i=96,n=new egret.Bitmap(RES.getRes(e));t.addChild(n),n.width=r,n.height=i,n.x=3,n.y=3;var s=this.drawBorderProgress("club_png",!1,1);return t.addChild(s),t},i.drawBgWithPic=function(e){var t=new egret.DisplayObjectContainer,r=100,i=100,n=new egret.Bitmap(RES.getRes(e));t.addChild(n),n.width=r,n.height=i,n.alpha=.5;var s=this.drawBorderProgress(e,!1,1);return t.addChild(s),t},i.drawBorderProgress=function(e,t,r){function i(e){h.graphics.clear(),h.graphics.beginFill(65535,1),h.graphics.lineTo(a,0),h.graphics.drawArc(0,0,a,0,e*Math.PI/180,t),h.graphics.lineTo(0,0),h.graphics.endFill()}var n=new egret.DisplayObjectContainer,s=100,o=100,a=Math.max(s,o)/2*1.5,d=new egret.Bitmap(RES.getRes(e));n.addChild(d),d.width=s,d.height=o;var h=new egret.Shape;h.x=d.width/2,h.y=d.height/2,d.mask=h,n.addChild(h);var g=0;return egret.startTick(function(e){return g+=1*r,i(g),g%=360,!0},this),n},t}(egret.DisplayObjectContainer);egret.registerClass(ArcAllUse,"ArcAllUse");var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var r=(__define,t),i=r.prototype;return i.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},i.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var r=(__define,t),i=r.prototype;return i.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},i.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},i.onResourceLoadComplete=function(e){"preload"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())},i.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},i.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},i.createGameScene=function(){var e=new ArcAllUse;this.addChild(e)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");